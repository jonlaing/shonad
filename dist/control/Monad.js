"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&("get"in desc?m.__esModule:!desc.writable&&!desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){o[k2=void 0===k2?k:k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.obeysMonadLaws=exports.makeDo=exports.Monad=void 0;const Applicative_1=require("./Applicative"),Fn=__importStar(require("../base/Function"));class Monad extends Applicative_1.Applicative{}(exports.Monad=Monad).bind=Fn.curry((x,f)=>x.bind(f));const fixYield=val=>val,makeDo=(pure,bind)=>f=>{const gen=f(fixYield),doNext=input=>{var{value:input,done}=gen.next(input);return done?pure(input):bind(input,doNext)};return doNext()};function obeysMonadLaws(mx,g,h){return mx.bind(g).bind(h).unwrap({})===mx.bind(x=>g(x).bind(h)).unwrap({})}exports.makeDo=makeDo,exports.obeysMonadLaws=obeysMonadLaws;
//# sourceMappingURL=Monad.js.map